# For convenience it is easiest if the joint order is maintained, it is chosen to sort the joints alphabetically.
# TODO: Add pressure soles to this .yaml file
# TODO: Add PDB to this .yaml files
# TODO: Make sure slaveIndexes are correct
# TODO: Update netNumbers if necessary
# linear: 16384
# rotational: 1048576
march7:
  if_name: enp1s0
  ecatCycleTime: 8
  ecatSlaveTimeout: 200
  joints:
    - left_ankle:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 3
          axis: 1
          motorKV: 355
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            resolution: 14
            direction: 1
            minPositionIU: 3607  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 5957  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 4910
            lowerSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.00349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.00174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            resolution: 13
            transmission: 236
            direction: -1
          torqueSensor:
            maxTorque: 10
        pids:
          position:
            p:
            i:
            d:
          torque:
            p:
            i:
            d:

    - left_hip_aa:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 4
          axis: 1
          motorKV: 355
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            resolution: 14
            direction: 1
            minPositionIU: 2764  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 3891  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 3183
            lowerSoftLimitMarginRad: 0.00349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.00349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.00174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.00174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            countsPerRotation: 6400
            transmission: 240
            direction: 1
          torqueSensor:
            maxTorque: 10

    - left_hip_fe:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 4
          axis: 0
          motorKV: 95
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            direction: 1
            resolution: 20
            minPositionIU: 215318  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 581560  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 327344
            lowerSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            direction: 1
            resolution: 12
            transmission: 121
          torqueSensor:
            maxTorque: 10

    - left_knee:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 3
          axis: 0
          motorKV: 95
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            direction: -1
            resolution: 20
            minPositionIU: 221713  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 570827  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 272271
            lowerSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            direction: -1
            resolution: 12
            transmission: 121
          torqueSensor:
            maxTorque: 10

    - right_ankle:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 2
          axis: 1
          motorKV: 355
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            resolution: 14
            direction: -1
            minPositionIU: 5772  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 7988  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 7092 #9205
            lowerSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.00349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.00174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            resolution: 13
            transmission: 236
            direction: -1
          torqueSensor:
            maxTorque: 10

    - right_hip_aa:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 1
          axis: 1
          motorKV: 355
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            resolution: 14
            direction: -1
            minPositionIU: 12493  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 13620  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 13201
            lowerSoftLimitMarginRad: 0.00349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.00349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.00174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.00174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            countsPerRotation: 6400
            transmission: 240
            direction: 1
          torqueSensor:
            maxTorque: 10



    - right_hip_fe:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 1
          axis: 0
          motorKV: 95
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            direction: -1
            resolution: 20
            minPositionIU: 295500  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 666956  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 411030
            lowerSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            direction: -1
            resolution: 12
            transmission: 121
          torqueSensor:
            maxTorque: 10

    - right_knee:
        motor_controller:
          type: odrive
          actuationMode: torque
          slaveIndex: 2
          axis: 0
          preCalibrated: false
          motorKV: 95
          useIncrementalEncoder: false
#          indexFound: true
          absoluteEncoder:
            direction: 1
            resolution: 20
            minPositionIU: 272570  # Ros kills itself if it is in its hard limits (same as encode limits).
            maxPositionIU: 622843  # Ros kills itself if it is in its hard limits (same as encode limits).
            zeroPositionIU: 338878
            lowerSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            upperSoftLimitMarginRad: 0.0349066  # Ros warns if it is x away from hard limit.
            lowerErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
            upperErrorSoftLimitMarginRad: 0.0174533  # Ros stops if it is x away from hard limit.
          incrementalEncoder:
            direction: 1
            resolution: 12
            transmission: 121
          torqueSensor:
            maxTorque: 10
  power_distribution_board:
    slaveIndex: 5
    byteOffset: 0
